webpackJsonp([2],{242:function(t,e,n){"use strict";var o=n(73),i=n(0),r=[],a=function(t){return t};i.enableProdMode(),a=function(t){return o.disableDebugTools(),t},r=r.slice(),e.decorateModuleRef=a,e.ENV_PROVIDERS=r.slice()},326:function(t,e,n){"use strict";var o=n(0),i=function(){function t(){this._state={}}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state=this._clone(this._state)},set:function(t){throw new Error("do not mutate the `.state` directly")},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=this.state;return e.hasOwnProperty(t)?e[t]:e},t.prototype.set=function(t,e){return this._state[t]=e},t.prototype._clone=function(t){return JSON.parse(JSON.stringify(t))},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.AppState=i},327:function(t,e,n){"use strict";var o=n(0),i=n(52),r=function(){function t(t){this.route=t}return t.prototype.sync=function(t){},t=__decorate([o.Component({selector:"boards",template:n(660)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object])],t);var e}();e.BoardsComponent=r},328:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(509))},329:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(510))},330:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(511))},331:function(t,e,n){"use strict";var o=n(0),i=n(52),r=n(64),a=function(){function t(t,e){this.route=t,this.skyObject=e,this.schema={name:"",fields:[]}}return t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.params.id,n=this.route.snapshot.params.name;this.skyObject.getSchema(n).subscribe(function(o){t.schema=o,t.skyObject.getObject(n,e).subscribe(function(e){t.item=e})})},t.prototype.isLink=function(t){return!(!t||!t.tag)},t.prototype.getLinkId=function(t,e){return""},t.prototype.displayField=function(t,e){var n="";return t&&e&&(n+=t.name+":"+e[t.name]),n},t=__decorate([o.Component({selector:"SchemaDetails",template:n(663)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(a="undefined"!=typeof r.SkyObjectService&&r.SkyObjectService)&&a||Object])],t);var e,a}();e.SchemaDetailsComponent=a},332:function(t,e,n){"use strict";var o=n(0),i=n(52),r=n(64),a=function(){function t(t,e){this.route=t,this.skyObject=e,this.schema={name:"",fields:[]}}return t.prototype.ngOnInit=function(){var t=this,e=this.route.snapshot.params.name;this.skyObject.getSchema(e).subscribe(function(e){t.schema=e}),this.skyObject.getObjectList(e).subscribe(function(e){t.items=e})},t.prototype.displayItem=function(t,e){for(var n="",o=0;o<t.fields.length;o++)n+=""!==t.fields[o].tag?t.fields[o].tag+" ":e[t.fields[o].name]+";  ";return n},t=__decorate([o.Component({selector:"schema",template:n(664)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(a="undefined"!=typeof r.SkyObjectService&&r.SkyObjectService)&&a||Object])],t);var e,a}();e.SchemaComponent=a},333:function(t,e,n){"use strict";var o=n(0),i=function(){function t(){}return Object.defineProperty(t,"API_PATH",{get:function(){return"/"},enumerable:!0,configurable:!0}),t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.Constants=i},334:function(t,e,n){"use strict";var o=n(0),i=n(52),r=n(514),a=function(){function t(t,e){this.route=t,this.skyWire=e}return t.prototype.ngOnInit=function(){var t=this;this.skyWire.getNodes().subscribe(function(e){console.log(e),t.items=e,t.skyWire.getSubscriptions(t.items[0].pubKey).subscribe(function(t){console.log("Subscriptions",t)}),t.skyWire.getSubscribers(t.items[0].pubKey).subscribe(function(t){console.log("Subscribers",t)})})},t=__decorate([o.Component({selector:"subscription",template:n(665)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(a="undefined"!=typeof r.SkyWireService&&r.SkyWireService)&&a||Object])],t);var e,a}();e.SubscriptionComponent=a},384:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(506))},505:function(t,e,n){"use strict";var o=n(0),i=n(326),r=n(64),a=function(){function t(t,e){this.appState=t,this.skyObjects=e}return t.prototype.ngOnInit=function(){console.log("Initial App State",this.appState.state)},t=__decorate([o.Component({selector:"app",encapsulation:o.ViewEncapsulation.None,styles:[n(684)],template:'\n    <div class="container-fluid">\n        <div class="row">\n            <div class="col-sm-12">\n                <a [routerLink]=" [\'./\'] ">\n                <h2>Skyhash - Objects</h2>\n                </a>\n            </div>\n        </div>\n         <nav>\n          <span>\n            <a [routerLink]=" [\'./dashboard\'] ">\n              Dashboard\n            </a>\n          </span>\n          |\n          <span>\n            <a [routerLink]=" [\'./boards\'] ">\n              Boards\n            </a>\n          </span>\n          |\n          <span>\n            <a [routerLink]=" [\'./subscription\'] ">\n              Subscriptions\n            </a>\n          </span>\n          |\n          <span>\n            <a [routerLink]=" [\'./collection\'] ">\n              Collection\n            </a>\n          </span>\n        </nav>\n    </div>\n    <main>\n      <router-outlet></router-outlet>\n    </main>\n    <!--<pre class="app-state">this.appState.state = {{ appState.state | json }}</pre>-->\n    <footer>\n    </footer>\n  '}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.AppState&&i.AppState)&&e||Object,"function"==typeof(a="undefined"!=typeof r.SkyObjectService&&r.SkyObjectService)&&a||Object])],t);var e,a}();e.AppComponent=a},506:function(t,e,n){"use strict";var o=n(0),i=n(73),r=n(188),a=n(105),s=n(52),c=n(106),p=n(242),u=n(508),f=n(505),d=n(507),h=n(326),m=n(329),l=n(330),y=n(513),b=n(328),v=n(332),S=n(331),g=n(334),O=n(327),_=d.APP_RESOLVER_PROVIDERS.concat(y.APP_SERVICE_PROVIDERS,[h.AppState]),j=function(){function t(t,e){this.appRef=t,this.appState=e}return t.prototype.hmrOnInit=function(t){if(t&&t.state){if(console.log("HMR store",JSON.stringify(t,null,2)),this.appState._state=t.state,"restoreInputValues"in t){var e=t.restoreInputValues;setTimeout(e)}this.appRef.tick(),delete t.state,delete t.restoreInputValues}},t.prototype.hmrOnDestroy=function(t){var e=this.appRef.components.map(function(t){return t.location.nativeElement}),n=this.appState._state;t.state=n,t.disposeOldHosts=c.createNewHosts(e),t.restoreInputValues=c.createInputTransfer(),c.removeNgStyles()},t.prototype.hmrAfterDestroy=function(t){t.disposeOldHosts(),delete t.disposeOldHosts},t=__decorate([o.NgModule({bootstrap:[f.AppComponent],declarations:[f.AppComponent,m.DashboardComponent,v.SchemaComponent,S.SchemaDetailsComponent,b.CollectionComponent,g.SubscriptionComponent,O.BoardsComponent,l.NoContentComponent],imports:[i.BrowserModule,r.FormsModule,a.HttpModule,s.RouterModule.forRoot(u.ROUTES,{useHash:!0,preloadingStrategy:s.PreloadAllModules})],providers:[p.ENV_PROVIDERS,_]}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof o.ApplicationRef&&o.ApplicationRef)&&e||Object,"function"==typeof(n="undefined"!=typeof h.AppState&&h.AppState)&&n||Object])],t);var e,n}();e.AppModule=j},507:function(t,e,n){"use strict";var o=n(0),i=n(10);n(670);var r=function(){function t(){}return t.prototype.resolve=function(t,e){return i.Observable.of({res:"I am data"})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.DataResolver=r,e.APP_RESOLVER_PROVIDERS=[r]},508:function(t,e,n){"use strict";var o=n(329),i=n(330),r=n(328),a=n(332),s=n(331),c=n(334),p=n(327);e.ROUTES=[{path:"",component:o.DashboardComponent},{path:"collection",component:r.CollectionComponent},{path:"dashboard",component:o.DashboardComponent},{path:"boards",component:p.BoardsComponent},{path:"subscription",component:c.SubscriptionComponent},{path:"schema/:name",component:a.SchemaComponent},{path:"schema/:name/:id",component:s.SchemaDetailsComponent},{path:"detail",loadChildren:function(){return n.e(0).then(n.bind(null,688)).then(function(t){return t.default})}},{path:"**",component:i.NoContentComponent}]},509:function(t,e,n){"use strict";var o=n(0),i=n(64),r=function(){function t(t){this.skyObject=t}return t.prototype.ngOnInit=function(){var t=this;this.skyObject.getSchemaList().subscribe(function(e){t.schemaList=e})},t=__decorate([o.Component({selector:"collection",template:n(661)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.SkyObjectService&&i.SkyObjectService)&&e||Object])],t);var e}();e.CollectionComponent=r},510:function(t,e,n){"use strict";var o=n(0),i=n(52),r=n(64),a=function(){function t(t,e){this.route=t,this.skyObject=e,this.stat={total:0,memory:0}}return t.prototype.ngOnInit=function(){var t=this;this.skyObject.getStatistic().subscribe(function(e){t.stat=e})},t.prototype.formatSizeUnits=function(t){return t>=1073741824?t=(t/1073741824).toFixed(2)+" GB":t>=1048576?t=(t/1048576).toFixed(2)+" MB":t>=1024?t=(t/1024).toFixed(2)+" KB":t>1?t+=" bytes":1===t?t+=" byte":t="0 byte",t},t=__decorate([o.Component({selector:"dashboard",styles:["\n  "],template:n(662)}),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.ActivatedRoute&&i.ActivatedRoute)&&e||Object,"function"==typeof(a="undefined"!=typeof r.SkyObjectService&&r.SkyObjectService)&&a||Object])],t);var e,a}();e.DashboardComponent=a},511:function(t,e,n){"use strict";var o=n(0),i=function(){function t(){}return t=__decorate([o.Component({selector:"no-content",template:"\n    <div>\n      <h1>404: page missing</h1>\n    </div>\n  "}),__metadata("design:paramtypes",[])],t)}();e.NoContentComponent=i},512:function(t,e,n){"use strict";var o=n(0),i=n(64),r=function(){function t(){}return t}();e.Board=r;var a=function(){function t(t){this.skyobjects=t}return t.prototype.getBoards=function(){return this.skyobjects.getObjectList("board")},t=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.SkyObjectService&&i.SkyObjectService)&&e||Object])],t);var e}();e.BoardsService=a},513:function(t,e,n){"use strict";var o=n(64),i=n(512);e.APP_SERVICE_PROVIDERS=[o.SkyObjectService,i.BoardsService]},514:function(t,e,n){"use strict";var o=n(0),i=n(333),r=n(105),a=function(){function t(){}return t}();e.Subscription=a;var s=function(){function t(t){this.http=t,this.api=i.Constants.API_PATH+"manager/",this.headers=new r.Headers,this.headers.append("Content-Type","application/x-www-form-urlencoded")}return t.prototype.getNodes=function(){var t=this;return this.http.get(this.api+"nodes/",{headers:t.headers}).map(function(t){return t.json()})},t.prototype.getSubscriptions=function(t){var e=this;return this.http.get(this.api+"nodes/"+t+"/subscriptions",{headers:e.headers}).map(function(t){return t.json()})},t.prototype.getSubscribers=function(t){var e=this;return this.http.get(this.api+"nodes/"+t+"/subscribers",{headers:e.headers}).map(function(t){return t.json()})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}();e.SkyWireService=s},64:function(t,e,n){"use strict";var o=n(0),i=n(333),r=n(105),a=function(){function t(){}return t}();e.Statistic=a;var s=function(){function t(){}return t}();e.Schema=s;var c=function(){function t(){}return t}();e.SchemaField=c;var p=function(){function t(t){this.http=t,this.api=i.Constants.API_PATH+"object1/",this.headers=new r.Headers,this.headers.append("Content-Type","application/x-www-form-urlencoded")}return t.prototype.getStatistic=function(){var t=this;return this.http.get(this.api+"_stat",{headers:t.headers}).map(function(t){return t.json()})},t.prototype.getSchemaList=function(){var t=this;return this.http.get(this.api+"_schemas",{headers:t.headers}).map(function(t){return t.json()}).map(function(t){return t})},t.prototype.getSchema=function(t){var e=this;return this.http.get(this.api+t+"/schema",{headers:e.headers}).map(function(t){return t.json()})},t.prototype.getObjectList=function(t){var e=this;return this.http.get(this.api+t+"/list",{headers:e.headers}).map(function(t){return t.json()})},t.prototype.getObject=function(t,e){var n=this;return this.http.get(this.api+t+"/list/"+e,{headers:n.headers}).map(function(t){return t.json()})},t.prototype.syncObject=function(t){var e=this;return this.http.post(this.api+"/sync/"+t,{headers:e.headers})},t.prototype.objectInfo=function(t){var e=this;return this.http.get(this.api+"/sync/"+t,{headers:e.headers}).map(function(t){return t.json()})},t.prototype.create=function(t,e){var n=this;return this.http.post(this.api+"/create/"+t+"/"+e,{headers:n.headers}).map(function(t){return t.json()})},t=__decorate([o.Injectable(),__metadata("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}();e.SkyObjectService=p},658:function(t,e,n){e=t.exports=n(659)(),e.push([t.i,"body,html{height:100%;font-family:Arial,Helvetica,sans-serif}span.active{background-color:gray}",""])},659:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},660:function(t,e){t.exports='<h1>Boards:</h1>\n<div>\n    <button (click)="sync()">Synchronize</button>\n\n    <!--<input value="{{this.boardName}}" placeholder="new boards">-->\n    <!--<button (click)="newBoard(this.boardName)">Create New</button>-->\n</div>\n<div>\n\n    <!--<div *ngFor="let item of this.items">-->\n        <!--<a [routerLink]=" [\'./\', item[\'id\']] ">-->\n            <!--<span>{{item[\'name\']}}</span>-->\n        <!--</a>-->\n    <!--</div>-->\n</div>\n'},661:function(t,e){t.exports='<h1>Collection</h1>\n<div>\n    <div *ngFor="let schema of schemaList">\n        <a [routerLink]=" [\'/schema\', schema.name.toLowerCase()] ">\n            <span>{{schema.name}}</span>\n        </a>\n    </div>\n</div>\n'},662:function(t,e){t.exports="<h1>Dashboard</h1>\n<div>\n    <p>Total objects: {{stat.total}}</p>\n    <p>Total memory: {{formatSizeUnits(stat.memory)}}</p>\n</div>\n<div>\n    <h3>\n    </h3>\n</div>\n"},663:function(t,e){t.exports='<h1>Details: </h1>\n<div>\n    <div *ngFor="let field of schema.fields">\n        {{displayField(field, item)}}\n\n        <a *ngIf="isLink(field)" [routerLink]=" [\'/\', schema.name, \'list\', getLinkId(field, item)] "> link</a>\n    </div>\n</div>\n'},664:function(t,e){t.exports="<h1>Schema: {{schema.name}}</h1>\n<div>\n    <div *ngFor=\"let item of this.items\">\n        <a [routerLink]=\" ['./', item['id']] \">\n            <span>{{item['name']}}</span>\n        </a>\n    </div>\n</div>\n"},665:function(t,e){t.exports='<h1>Subscription</h1>\n<div>\n    <h2>Nodes: </h2>\n    <div *ngFor="let item of this.items">\n        <span>{{item.ip}}</span>\n        <span>{{item.port}}</span>\n        <span>{{item.pubKey}}</span>\n    </div>\n    <!--<form (ngSubmit)="submitState(localState.value)" autocomplete="off">-->\n\n    <!--<input-->\n    <!--[value]="localState.value"-->\n    <!--(input)="localState.value = $event.target.value"-->\n    <!--placeholder="Submit Local State to App State"-->\n    <!--autofocus>-->\n\n    <!--<button >Submit Value</button>-->\n    <!--</form>-->\n</div>\n'},670:function(t,e,n){"use strict";var o=n(10),i=n(72);o.Observable.of=i.of},684:function(t,e,n){var o=n(658);"string"==typeof o?t.exports=o:t.exports=o.toString()},685:function(t,e,n){"use strict";function o(){return i.platformBrowserDynamic().bootstrapModule(a.AppModule).then(r.decorateModuleRef).catch(function(t){return console.error(t)})}var i=n(150),r=n(242),a=(n(106),n(384));e.main=o,"complete"===document.readyState?o():document.addEventListener("DOMContentLoaded",function(){o()})}},[685]);